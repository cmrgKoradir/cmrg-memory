(this["webpackJsonpcmrg-memory"]=this["webpackJsonpcmrg-memory"]||[]).push([[0],{26:function(e,t,a){e.exports=a(38)},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),o=a.n(c),i=a(11),l=a(2),m=a(20);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var u=a(25),s=a(6),d=(a(33),r.a.createContext([])),f=r.a.createContext([]),p=function(e){var t=e.children,a=Object(n.useState)([]),c=Object(s.a)(a,2),o=c[0],i=c[1],l=Object(n.useState)([]),m=Object(s.a)(l,2),u=m[0],p=m[1];return r.a.createElement(d.Provider,{value:[o,i]},r.a.createElement(f.Provider,{value:[u,p]},t))},h=a(23),g=a(13),E=(a(34),a(35),function(e,t,a){if(!(t.length>=2)){var n=document.querySelector(e);n.classList.contains("flipped")||(n.classList.add("flipped"),a([].concat(Object(g.a)(t),[n])))}}),v=function(e){var t=e.children,a=e.id,c=e.pairId,o=Object(n.useContext)(f),i=Object(s.a)(o,2),l=i[0],m=i[1];return r.a.createElement("div",{className:"card ".concat(a),pairid:c,onClick:function(){return E(".".concat(a),l,m)}}," ",r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"front"}),r.a.createElement("div",{className:"back"},t)))},b=function(e){var t=e.id,a=e.pairId,n=e.info;return r.a.createElement(v,{id:t,pairId:a},r.a.createElement("img",{src:n.image,alt:""}))},y={display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"space-evenly",padding:".1em"},w={fontWeight:"bold"},j={},O={},x=function(e){var t=e.id,a=e.pairId,n=e.info;return r.a.createElement(v,{id:t,pairId:a},r.a.createElement("div",{style:y},r.a.createElement("span",{style:w},n.name),n.nickName&&r.a.createElement("span",{style:j},'"',n.nickName,'"'),r.a.createElement("span",{style:O},n.position)))},S=function(e,t){var a=Object(g.a)(e);t([]),setTimeout((function(){return t(a)}),0)},I=function(e,t){return k(k(e).slice(0,t).flatMap((function(e){var t=e.id,a="card".concat(t,"_image"),n="card".concat(t,"_text");return Array.of(r.a.createElement(b,{key:a,id:a,pairId:t,info:e}),r.a.createElement(x,{key:n,id:n,pairId:t,info:e}))})))},k=function(e){var t,a=Array.from(e),n=a.length-1,r=Object(h.a)(a.keys());try{for(r.s();!(t=r.n()).done;){var c=t.value,o=Math.floor(Math.random()*(n-c+1)+c),i=a[c];a[c]=a[o],a[o]=i}}catch(l){r.e(l)}finally{r.f()}return a},N=function(e,t){var a,n;if(!(e.length<2)){if(e.length>2)throw Error("Illegal State: More than two cards selected at a time");var r=null!==(a=parseInt(e[0].getAttribute("pairid")))&&void 0!==a?a:null;if(null==r)throw console.log(e),Error("Expected ".concat(e[0]," to have pairId but does not."));var c=null!==(n=parseInt(e[1].getAttribute("pairid")))&&void 0!==n?n:null;if(null==c)throw console.log(e),Error("Expected ".concat(e[1]," to have pairId but does not."));r===c?setTimeout((function(){t([]),e.forEach((function(e){return e.classList.add("hidden")}))}),1200):setTimeout((function(){e.forEach((function(e){return e.classList.remove("flipped")})),t([])}),1200)}},C={width:"100%",height:"100%",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(8em, 1fr))",gridAutoRows:"1fr",gridGap:".25rem",padding:".25rem",justifyItems:"center"},A=function(){var e=Object(n.useContext)(d),t=Object(s.a)(e,1)[0],a=Object(n.useContext)(f),c=Object(s.a)(a,2),o=c[0],i=c[1];Object(n.useEffect)((function(){N(o,i)}),[o,i]);var l=Object(n.useState)(2),m=Object(s.a)(l,2),u=m[0],p=m[1],h=Object(n.useState)(I(t)),g=Object(s.a)(h,2),E=g[0],v=g[1];return Object(n.useEffect)((function(){v([]),setTimeout((function(){v(I(t,u))}),0)}),[t,u,v]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"controls"},E.length>1&&r.a.createElement("button",{className:"restartButton",onClick:function(){return S(E,v)}},"Restart"),r.a.createElement("input",{className:"gameSizeSlider",type:"range",min:"2",max:t.length,defaultValue:u,onChange:function(e){return p(e.target.value)}}),r.a.createElement("span",{className:"gameSizeDisplay"},"People: ",u)),r.a.createElement("div",{className:"memory",style:C},E.length<1&&r.a.createElement("h1",{className:"loadingNotice"},"Fetching data..."),E))};var T=function(){var e=Object(n.useContext)(d),t=Object(s.a)(e,2)[1];return Object(n.useEffect)((function(){return function(e){fetch("https://cors-anywhere.herokuapp.com/www.comerge.net/team").then((function(e){return e.text()})).then((function(e){var t=(new DOMParser).parseFromString(e,"text/html").querySelectorAll(".portrait");return Array.from(t).map((function(e){var t;return{name:e.querySelector(".intro strong").innerText,nickName:null===(t=e.querySelector(".intro p"))||void 0===t?void 0:t.innerText,position:e.querySelector(".role").innerText,image:e.querySelector(".imageSlider img").src.replace(window.location.host,"www.comerge.net")}}))})).then((function(e){return e.map((function(e,t){return Object(u.a)({id:t},e)}))})).then((function(t){return e(t)}))}(t)}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"app"},r.a.createElement(A,null)))},M={padding:"1em"},q=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:M},r.a.createElement("h1",null,"About"),r.a.createElement("p",null,"This is a simple memory game meant as an exercise to get familiar with JavaScript, React and PWAs."),r.a.createElement("p",null,"It will crawl ",r.a.createElement("a",{href:"https://www.comerge.net/team"},"the Comerge Team Page")," for updates when it's online and use the profiles there to populate the cards with.")))},F={display:"flex",flexDirection:"column",alignItems:"center",padding:".25em",background:"#333",color:"white"},P={color:"white"},D=function(){return r.a.createElement("header",{style:F},r.a.createElement("h1",null,"CMRG Memory"),r.a.createElement("div",null,r.a.createElement(i.b,{to:"/",style:P},"Home")," | ",r.a.createElement(i.b,{to:"/about",style:P},"About")))};o.a.render(r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,null,r.a.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})),r.a.createElement(r.a.StrictMode,null,r.a.createElement(p,null,r.a.createElement(i.a,{basename:"/cmrg-memory"},r.a.createElement(l.a,{path:"/",component:D}),r.a.createElement(l.a,{exact:!0,path:"/",component:T}),r.a.createElement(l.a,{path:"/about",component:q}))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.28390389.chunk.js.map