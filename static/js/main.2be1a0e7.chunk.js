(this["webpackJsonpcmrg-memory"]=this["webpackJsonpcmrg-memory"]||[]).push([[0],{21:function(e,t,n){e.exports=n(33)},26:function(e,t,n){},27:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(17),o=n.n(c),i=n(10),l=n(1);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var u=n(20),m=n(6),s=(n(26),r.a.createContext([])),d=r.a.createContext([]),f=function(e){var t=e.children,n=Object(a.useState)([]),c=Object(m.a)(n,2),o=c[0],i=c[1],l=Object(a.useState)([]),u=Object(m.a)(l,2),f=u[0],p=u[1];return r.a.createElement(s.Provider,{value:[o,i]},r.a.createElement(d.Provider,{value:[f,p]},t))},p=n(19),h=(n(27),function(e,t,n){if(!(t.length>=2)){var a=document.querySelector(e);a.classList.add("flipped"),n([].concat(Object(p.a)(t),[a]))}}),E=function(e){var t=e.children,n=e.id,c=e.pairId,o=Object(a.useContext)(d),i=Object(m.a)(o,2),l=i[0],u=i[1];return r.a.createElement("div",{className:"card ".concat(n),pairid:c,onClick:function(){return h(".".concat(n),l,u)}}," ",r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"front"}),r.a.createElement("div",{className:"back"},t)))},v=function(e){var t=e.id,n=e.pairId,a=e.info;return r.a.createElement(E,{id:t,pairId:n},r.a.createElement("img",{src:a.image,alt:""}))},g={display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},b=function(e){var t=e.id,n=e.pairId,a=e.info;return r.a.createElement(E,{id:t,pairId:n},r.a.createElement("div",{style:g},r.a.createElement("strong",null,a.name),a.nickName&&r.a.createElement("span",null,'"',a.nickName,'"'),r.a.createElement("span",null,a.position)))},w=function(e){return e.flatMap((function(e){var t=e.id,n="card".concat(t,"_image"),a="card".concat(t,"_text");return Array.of(r.a.createElement(v,{key:n,id:n,pairId:t,info:e}),r.a.createElement(b,{key:a,id:a,pairId:t,info:e}))}))},y=function(e,t,n,a){var r,c;if(!(e.length<2)){if(e.length>2)throw Error("Illegal State: More than two cards selected at a time");var o=null!==(r=parseInt(e[0].getAttribute("pairid")))&&void 0!==r&&r;if(!o)throw Error("Expected ".concat(e[0]," to have pairId but does not."));var i=null!==(c=parseInt(e[1].getAttribute("pairid")))&&void 0!==c&&c;if(!i)throw Error("Expected ".concat(e[1]," to have pairId but does not."));o===i?setTimeout((function(){t([]),a(n.filter((function(e){return e.id!==o})))}),1200):setTimeout((function(){e.forEach((function(e){return e.classList.remove("flipped")})),t([])}),1200)}},x={width:"100%",height:"100%",display:"flex",flexWrap:"wrap",padding:".25rem",justifyContent:"space-evenly",alignItems:"center"},j=function(){var e=Object(a.useContext)(s),t=Object(m.a)(e,1)[0],n=Object(a.useState)(t),c=Object(m.a)(n,2),o=c[0],i=c[1];Object(a.useEffect)((function(){return i(t)}),[t,i]);var l=Object(a.useContext)(d),u=Object(m.a)(l,2),f=u[0],p=u[1];return Object(a.useEffect)((function(){y(f,p,o,i)}),[f,p,o,i]),r.a.createElement("div",{className:"memory",style:x},!t&&r.a.createElement("h1",{className:"loadingNotice"},"Fetching data..."),w(o))};var O=function(){var e=Object(a.useContext)(s),t=Object(m.a)(e,2)[1];return Object(a.useEffect)((function(){return function(e){fetch("https://cors-anywhere.herokuapp.com/www.comerge.net/team").then((function(e){return e.text()})).then((function(e){var t=(new DOMParser).parseFromString(e,"text/html").querySelectorAll(".portrait");return Array.from(t).map((function(e){var t;return{name:e.querySelector(".intro strong").innerText,nickName:null===(t=e.querySelector(".intro p"))||void 0===t?void 0:t.innerText,position:e.querySelector(".role").innerText,image:e.querySelector(".imageSlider img").src.replace(window.location.host,"www.comerge.net")}}))})).then((function(e){return e.map((function(e,t){return Object(u.a)({id:t},e)}))})).then((function(t){return e(t)}))}(t)}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"app"},r.a.createElement(j,null)))},I=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"About"),r.a.createElement("p",null,"This is a simple memory game meant as an exercise to get familiar with JavaScript, React and PWAs."),r.a.createElement("p",null,"It will crawl ",r.a.createElement("a",{href:"https://www.comerge.net/team"},"the Comerge Team Page")," for updates when it's online and use the profiles there to populate the cards with."))},S={display:"flex",flexDirection:"column",alignItems:"center",padding:".25em",background:"#333",color:"white"},k={color:"white"},C=function(){return r.a.createElement("header",{style:S},r.a.createElement("h1",null,"CMRG Memory"),r.a.createElement("div",null,r.a.createElement(i.b,{to:"/",style:k},"Home")," | ",r.a.createElement(i.b,{to:"/about",style:k},"About")))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(f,null,r.a.createElement(i.a,{basename:"/cmrg-memory"},r.a.createElement(l.a,{path:"/",component:C}),r.a.createElement(l.a,{exact:!0,path:"/",component:O}),r.a.createElement(l.a,{path:"/about",component:I})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.2be1a0e7.chunk.js.map